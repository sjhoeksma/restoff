(function(){"use strict";function e(e){var r={dbName:"restoff.json"},o=Object.create(t.prototype);o._options=Object.assign(r,e);var n=l&&l.low?l.low:void 0,i=o._options.format;if("undefined"!=typeof module&&module.exports){n=require("lowdb");var s=require("lowdb/file-sync");o._low=n(o.dbName,i?{storage:s,format:i}:{storage:s})}else{if("undefined"==typeof n)throw new Error("LowDb library required. Please see README.md on how to get this library.");o._low=n(o.dbName,i?{storage:n.localStorage,format:i}:{storage:n.localStorage})}return o}function t(){}function r(e){console.log(e)}function o(e,t){if("object"==typeof e&&null!==e&&"object"==typeof t&&null!==t){var r=e.hasOwnProperty("$$hashKey")?0:1,n=t.hasOwnProperty("$$hashKey")?0:1;if(Object.keys(e).length+r!=Object.keys(t).length+n)return!1;for(var i in e)if("$$hashKey"!=i){if(!t.hasOwnProperty(i))return!1;if(!o(e[i],t[i]))return!1}return!0}return e===t}function n(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}function i(t){var r={primaryKeyName:"id",dbName:"restoff.json",repoOptions:[],reconSettings:{lastUpdatedFieldName:"",softDeleteFieldName:"",softDeleteValue:""}},o=Object.create(s.prototype);return o._options=Object.assign(r,t),o._dbRepo=e(o._options),o}function s(){}function a(e,t){var r={filter:[]},o=Object.create(p.prototype);return o._options=Object.assign(r,t),o._restOff=e,o}function p(){}function c(e,t){var r={pendingUri:"http://localhost/",pendingRepoName:"pending"},o=Object.create(u.prototype);return o._options=Object.assign(r,t),o._restOff=e,o}function u(){}function d(e){var t={rootUri:"",clientOnly:!1,concurrency:"optimistic",forcedOffline:!1,persistenceDisabled:!1,pending:{},uriOptions:{filter:[]}},r=Object.create(f.prototype);return r._options=Object.assign(t,e),r._options.generateId=e&&e.generateId?e.generateId:n,r._autoParams=r._options.defaultParams||{},r._autoHeaders=r._options.defaultHeaders||{},delete r._options.defaultParams,delete r._options.defaultHeaders,r._dbService=i(r._options.dbService),r._restoffUri=a(r,r._options.uriOptions),r._pendingService=c(r,r._options.pending),r}function f(){}var l=this,h=l.restlib||{};h["version-library"]="0.2.29","undefined"!=typeof module&&module.exports?module.exports=h:l.restlib=h,t.prototype=Object.create(Object.prototype,{dbName:{get:function(){return this.options.dbName},set:function(e){this.options.dbName=e}},dbEngine:{get:function(){return this._low}},options:{get:function(){return this._options}}}),h.lowdbRepo=e,t.prototype.length=function(e){return this._low(e).size()},t.prototype.clear=function(e){delete this._low.object[e],this._low.write()},t.prototype.clearAll=function(){this._low.object={},this._low.write()},t.prototype.find=function(e,t,r){var o={};return o[t]=r,this._low(e).find(o)},t.prototype.read=function(e,t){return this._low(e).chain().filter(t).value()},t.prototype.write=function(e,t,r){var o=r[t];if(void 0===this.find(e,t,o))this._low(e).push(r);else{var n={};n[t]=o,this.dbEngine(e).chain().find(n).assign(r).value()}},t.prototype["delete"]=function(e,t){this._low(e).remove(t)},s.prototype=Object.create(Object.prototype,{dbName:{get:function(){return this.options.dbName},set:function(e){this.options.dbName=e}},dbRepo:{get:function(){return this._dbRepo}},lastUpdatedFieldName:{get:function(){return this._options.reconSettings.lastUpdatedFieldName}},options:{get:function(){return this._options}},primaryKeyName:{get:function(){return this.options.primaryKeyName},set:function(e){this.options.primaryKeyName=e}},reconSettings:{get:function(){return this._options.reconSettings},set:function(e){this._options.reconSettings=e}},softDeleteFieldName:{get:function(){return this._options.reconSettings.softDeleteFieldName}},softDeleteValue:{get:function(){return this._options.reconSettings.softDeleteValue}}}),s.prototype.pkNameGet=function(e,t){var r=this.primaryKeyName,o=this.repoOptionsGet(e);return void 0!==o&&(r=o.primaryKeyName),void 0!==t&&void 0!==t.primaryKeyName&&(r=t.primaryKeyName),r},s.prototype.repoOptionsGet=function(e){var t;return this.options.repoOptions.forEach(function(r){r.repoName===e&&(t=r)}),t},s.prototype.repoOptionsSet=function(e){var t=this;return this.options.repoOptions.forEach(function(r,o){r.repoName===e.repoName&&t.options.repoOptions.splice(o,1)}),this.options.repoOptions.push(e),this},s.prototype.clear=function(e){return this.dbRepo.clear(e)},s.prototype.clearAll=function(){return this.dbRepo.clearAll()},s.prototype.deleteRepo=function(e,t){return this.dbRepo["delete"](e,t)},s.prototype.findSync=function(e,t){return this.dbRepo.read(e,t)},s.prototype.writeSync=function(e,t,r){var o=this.pkNameGet(e,r);t=t instanceof Array?t:[t],t.forEach(function(t){var r=t[o];if(void 0===r)throw new Error("Expected resource in repository '"+e+"' to have a primary key named '"+o+"'. The resource we are checking against is "+JSON.stringify(t)+". The primary key name comes from the global configuration or you can set it for each RESTful call. Please see supporting documentation.")});var n=this;if(this.reconSettings.softDeleteFieldName){var i=this.reconSettings.softDeleteFieldName,s=this.reconSettings.softDeleteValue;t.forEach(function(r,a){r[i]!==s?n.dbRepo.write(e,o,r):t.splice(a,1)})}else t.forEach(function(t){n.dbRepo.write(e,o,t)});return t},h.restoffService=i,p.prototype=Object.create(Object.prototype,{filter:{get:function(){return this._options.filter}}}),p.prototype._uriGenerate=function(e){var t=e.uri;-1===t.indexOf("http")&&(t=e.options.rootUri+t);var r=this._restOff._autoParams,o=Object.keys(r);if(o.length>0){var n=!0;-1!==t.indexOf("?")?n=!1:t+="?",o.forEach(function(e){t+=(n?"":"&")+e+"="+r[e],n=!1})}return t},p.prototype.uriFromClient=function(e,t,o,n,i){var s={uri:e,primaryKey:"",restMethod:t,resources:o,options:Object.assign({},this._restOff._options,n),searchOptions:{}};s.options.rootUri.endsWith("/")||(s.options.rootUri=s.options.rootUri+"/"),s.uriFinal=i?e:this._uriGenerate(s);var a=e.replace(s.options.rootUri,"");this.filter.forEach(function(e){a=a.replace(e,"")});var p=a.split("?");p.length>1&&(a=p[0],s.search=p[1],s.search.split("&").forEach(function(e){var t=e.split("=");2===t.length?s.searchOptions[t[0]]=t[1]:r("WARNING: Invalid search query in uri "+s.uriFinal+"'.")}));var c=a.split("/");n&&n.hasPK&&c.length>1&&(s.primaryKey=c.pop(),a=c.join("/"));var u=this._restOff._pkNameGet(s);return s.primaryKeyName=u,void 0!==o&&(o instanceof Array?o.forEach(function(e){e[u]||(e[u]=s.options.generateId())}):o[u]||(o[u]=s.options.generateId())),""===s.primaryKey&&void 0!==o&&null!==o&&void 0!==o[u]&&(s.primaryKey=o[u]),n&&n.repoName?s.repoName=n.repoName:s.repoName=a,"http:"!==s.repoName&&""!==s.repoName||r("WARNING: repoName invalid. Had a uri of '"+e+"' and a rootUri of '"+s.options.rootUri+"'' which may be incorrect?"),s},h.restoffUri=a,u.prototype=Object.create(Object.prototype,{pendingRepoName:{get:function(){return this._options.pendingRepoName}},pendingUri:{get:function(){return this._options.pendingUri}}}),u.prototype.pendingGet=function(e,t){var r=this.pendingRepoName+(e?"?repoName="+e:"");return void 0!==t&&(r+=e?"&":"?",r+="primaryKey="+t),this._restOff.getRepo(r,{rootUri:this.pendingUri,clientOnly:!0})},u.prototype.pendingPost=function(e){return this._restOff.postRepo(this.pendingUri+this.pendingRepoName,e,{rootUri:this.pendingUri,clientOnly:!0,primaryKeyName:"id"})},u.prototype.pendingCount=function(e){var t=this.pendingGet(e);return t?t.length:0},u.prototype.pendingDelete=function(e){var t=this.pendingRepoName+(e?"/"+e:"");return this._restOff.deleteRepo(t,{rootUri:this.pendingUri,clientOnly:!0,primaryKeyName:"id",hasPK:!!e})},u.prototype.pendingClear=function(e){var t=this.pendingRepoName+"?repoName="+e;return this._restOff.deleteRepo(t,{rootUri:this.pendingUri,clientOnly:!0})},u.prototype.pendingAdd=function(e){var t={id:n(),restMethod:e.restMethod,resources:e.resources,clientTime:new Date,uri:e.uriFinal,repoName:e.repoName,primaryKey:e.primaryKey,hasPK:e.options&&e.options.hasPK};if(e.options.persistenceDisabled)return t;var r=this.pendingGet(e.repoName,e.primaryKey);if(1===r.length)void 0!==r[0].original?t.original=JSON.parse(JSON.stringify(r[0].original)):t.original=JSON.parse(JSON.stringify(r[0].resources)),this.pendingDelete(r[0].id);else{var o=this._restOff.getRepo(e.repoName+"/"+e.primaryKey,{primaryKeyName:e.primaryKeyName,hasPK:!0});void 0!==o[0]&&(t.original=JSON.parse(JSON.stringify(o[0])))}return this.pendingPost(t)},h.restoffPending=c,f.prototype=Object.create(Object.prototype,{dbService:{get:function(){return this._dbService}},forcedOffline:{get:function(){return this._options.forcedOffline},set:function(e){this._options.forcedOffline=e}},clientOnly:{get:function(){return this._options.clientOnly},set:function(e){this._options.clientOnly=e}},concurrency:{get:function(){return this._options.concurrency},set:function(e){this._options.concurrency=e}},options:{get:function(){return this._options}},pendingService:{get:function(){return this._pendingService}},persistenceDisabled:{get:function(){return this._options.persistenceDisabled},set:function(e){this._options.persistenceDisabled=e}},restoffUri:{get:function(){return this._restoffUri}},rootUri:{get:function(){return this._options.rootUri},set:function(e){this._options.rootUri=e}},resourceFilter:{get:function(){return this._options.resourceFilter},set:function(e){this._options.resourceFilter=e}},pageHandler:{get:function(){return this._options.pageHandler},set:function(e){this._options.pageHandler=e}}}),f.prototype._pkNameGet=function(e){return this.dbService.pkNameGet(e.repoName,e.options)},f.prototype._pendingRepoAddSync=function(e){return e.options.clientOnly||this.pendingService.pendingAdd(e),this._repoAddResourceSync(e)},f.prototype._pendingRepoAdd=function(e,t,r,o){if(t)return this._repoAddResource(e).then(function(e){r(e)})["catch"](function(e){o(e)});var n=this;return this.pendingService.pendingAdd(e),n._repoAddResource(e).then(function(e){r(e)})["catch"](function(e){o(e)})},f.prototype._requestGet=function(e){var t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return e.options.forcedOffline||e.options.clientOnly?(t.__defineGetter__("readyStateRestOff",function(){return 4}),t.send=function(){this.onreadystatechange()}):t.__defineGetter__("readyStateRestOff",function(){return this.readyState}),t},f.prototype.uriFromClient=function(e,t,r,o,n){return this._restoffUri.uriFromClient(e,t,r,o,n)},f.prototype.clearAll=function(e){e=void 0===e?!1:e;var t=this.pendingService.pendingCount();if(t>0&&!1===e)throw new Error("Submit pending changes before clearing database or call clearAll(true) to force.");this.dbService.clearAll(),this.pendingService.pendingDelete()},f.prototype.clear=function(e,t){t=void 0===t?!1:t;var r=this.pendingService.pendingCount(e);if(r>0&&!1===t)throw new Error("Submit pending changes before clearing database or call clear(repoName, true) to force.");this.dbService.clear(e),this.pendingService.pendingClear(e)},f.prototype._queryAddPk=function(e,t){return""!==e.primaryKey&&(t[this._pkNameGet(e)]=e.primaryKey),t},f.prototype._queryBuildFromUri=function(e){return this._queryAddPk(e,e.searchOptions)},f.prototype._repoGetRaw=function(e){return e.options.persistenceDisabled?[]:this.dbService.findSync(e.repoName)},f.prototype._repogetRepo=function(e){return e.options.persistenceDisabled?[]:this.dbService.findSync(e.repoName,this._queryBuildFromUri(e))},f.prototype._repoFindSync=function(e){return this.dbService.findSync(e.repoName,this._queryAddPk(e,{}))},f.prototype._repoFind=function(e){var t=this;return new Promise(function(r){r(t._repoFindSync(e))})},f.prototype._repoAdd=function(e,t){var r=this;return new Promise(function(o,n){return!e.resources&&t&&(e.resources=JSON.parse(t),r.resourceFilter&&(e.resources=r.resourceFilter(e.resources,e))),r._repoAddResource(e).then(function(e){o(e)})["catch"](function(e){n(e)})})},f.prototype._hashify=function(e,t){var r={};return t.forEach(function(t){if(void 0!==t){var o=t[e];r[o]=t}}),r},f.prototype._joinedHash=function(e,t,r){var o={};return t.forEach(function(t){var r=t[e],n={};n.server=t,o[r]=n}),r.forEach(function(t){var r=t[e];if(void 0!==o[r])o[r].client=t;else{var n={};n.client=t,o[r]=n}}),o},f.prototype._applyAndClearPending=function(e,t){var r=this;return new Promise(function(o,n){return r._options.onCallPending&&r._options.onCallPending(e,t),r._restCall(e.uri,e.restMethod,e.hasPK?Object.assign({hasPK:!0},t.options):t.options,e.resources,!0).then(function(){if("POST"===e.restMethod&&t.options.dbService&&t.options.dbService.primaryKeyNotOnPost){var n={};n[r._pkNameGet(t)]=e.primaryKey,r.dbService.deleteRepo(e.repoName,n)}o(r.pendingService.pendingDelete(e.id))})["catch"](function(e){n(e)})})},f.prototype._forEachHashEntry=function(e,t,r,n,i,s){var a=this;return Object.keys(t).map(function(r){return new Promise(function(n,p){var c=t[r].server,u=t[r].client,d=i[r],f=void 0!==c,l=void 0!==u,h=void 0!==i[r];if(f)if(l){if(h){var y=d?d.original:void 0,_="overwrite"===a.options.concurrency?!1:!o(c,y);if(_){var g=a.options.generateId();return d.primaryKeyOriginal=d.primaryKey,d.primaryKey=g,d.resources[a._pkNameGet(e)]=g,"PUT"===d.restMethod&&(d.restMethod="POST",d.uri=d.uri.replace("/"+d.primaryKeyOriginal,""),d.hasPK=!1),a._applyAndClearPending(d,e).then(function(){s.push(c),a.options.onReconciliation&&a.options.onReconciliation(d),n()})["catch"](function(e){p(e)})}return a._applyAndClearPending(d,e).then(function(){n()})["catch"](function(e){p(e)})}n(s.push(c))}else{if(h)return a._applyAndClearPending(d,e).then(function(){n()})["catch"](function(e){p(e)});n(s.push(c))}else if(l)if(h){if(void 0===d.original)return a._applyAndClearPending(d,e).then(function(){n()})["catch"](function(e){p(e)});a.dbService.deleteRepo(e.repoName,a._queryAddPk(e,{})),n(a.pendingService.pendingDelete(d.id))}else n(a.dbService.deleteRepo(e.repoName,a._queryAddPk(e,{})));n("Error: Should not be here. It means the code is not complete.")})})},f.prototype._repoAddResourceSync=function(e){if(!e.options.persistenceDisabled){var t=e.resources instanceof Array?e.resources:[e.resources];return this.dbService.writeSync(e.repoName,t,e.options),t}return e.resources},f.prototype._repoAddResource=function(e){var t=this;return new Promise(function(r,o){if(e.options.persistenceDisabled)r(e.resources);else if("GET"===e.restMethod){var n=e.resources instanceof Array?e.resources:[e.resources],i=t.pendingService.pendingGet(e.repoName);if(i.length>0){var s=t._repoGetRaw(e),a=[],p=t._pkNameGet(e),c=t._joinedHash(p,n,s),u=t._hashify("primaryKey",i),d=t._forEachHashEntry(e,c,n,s,u,a);return Promise.all(d).then(function(){t.dbService.writeSync(e.repoName,a,e.options),t.pendingService.pendingClear(e.repoName);var o=t._repoGetRaw(e);r(o)})["catch"](function(e){o(e)})}t.clear(e.repoName),t.dbService.writeSync(e.repoName,n,e.options),r(n)}else{var f=e.resources instanceof Array?e.resources:[e.resources];t.dbService.writeSync(e.repoName,f,e.options),r(f)}})},f.prototype._repoDeleteResourceSync=function(e){return e.options.persistenceDisabled||this.dbService.deleteRepo(e.repoName,this._queryAddPk(e,e.searchOptions)),e.primaryKey},f.prototype._createError=function(e,t){var r=e.request,o=r.responseText.replace(/\r?\n|\r/g,""),n=t?t:r.statusText;0===r.status&&(n="Network Error");var i={message:n,messageDetail:o,response:r.response||r.responseText,status:r.status,uri:e.uriFinal,restMethod:e.restMethod};return e.options.errorHandler&&e.options.errorHandler(i),i},f.prototype.autoQueryParamSet=function(e,t){return t?this._autoParams[e]=t:delete this._autoParams[e],this},f.prototype.autoQueryParamGet=function(e){return this._autoParams[e]},f.prototype.autoHeaderParamSet=function(e,t){return t?this._autoHeaders[e]=t:delete this._autoHeaders[e],this},f.prototype.autoHeaderParamGet=function(e){return this._autoHeaders[e]},f.prototype._requestHeaderSet=function(e){var t=this._autoHeaders;Object.keys(t).forEach(function(r){e.setRequestHeader(r,t[r])})},f.prototype._uriAddRequest=function(e,t){if(e.request){e.request.readyState=t.readyStateRestOff,200!=t.status&&(e.request.status=t.status),e.request.readyState=e.request.readyState,e.request.statusText=e.request.statusText?e.request.statusText+t.statusText:t.statusText;var r=JSON.parse(t.response||t.responseText);if(this.resourceFilter)for(var o=this.resourceFilter(r,e),n=0;n<o.length;n++)e.resources.push(o[n]);this.pageHandler?e.nextUri=this.pageHandler(r,e):delete e.nextUri,delete e.request.response,delete e.request.responseText}else if(e.request={readyState:t.readyStateRestOff,status:t.status,statusText:t.statusText,response:t.response,responseText:t.responseText},e.request.response||e.request.responseText){var r=JSON.parse(e.request.response||e.request.responseText);this.resourceFilter&&(e.resources=this.resourceFilter(r,e)),e.resources instanceof Array||(e.resources=[e.resources]),this.pageHandler&&(e.nextUri=this.pageHandler(r,e))}return e},f.prototype._dbdeleteRepo=function(e){return e.options.clientOnly||this.pendingService.pendingAdd(e),this._repoDeleteResourceSync(e)},f.prototype._dbDelete=function(e,t,r){var o=e.request;switch(o.status){case 200:case 202:case 204:t(this._repoDeleteResourceSync(e));break;case 404:t(this._repoDeleteResourceSync(e));break;case 0:var n=e.options.clientOnly;e.options.forcedOffline||n?n?t(this._repoDeleteResourceSync(e)):(this.pendingService.pendingAdd(e),t(this._repoDeleteResourceSync(e))):r(this._createError(e));break;case 401:r(this._createError(e));break;default:r(this._createError(e,"Delete Unsupported HTTP response "+o.status))}},f.prototype._dbGet=function(e){var t=this;return new Promise(function(r,o){var n=e.request;switch(n.status){case 200:return t._repoAdd(e,n.response).then(function(e){r(e)})["catch"](function(e){o(e)});case 0:case 404:var i=e.options.clientOnly;if(e.options.forcedOffline||i){var s=t._repogetRepo(e);r(s)}else o(t._createError(e));break;case 401:o(this._createError(e));break;default:o(this._createError(e,"Get Unsupported HTTP response "+n.status))}})},f.prototype._dbPost=function(e,t,r){var o=e.request;switch(o.status){case 200:case 201:return this._repoAdd(e,o.response).then(function(e){t(e)})["catch"](function(e){r(e)});case 0:case 404:var n=e.options.clientOnly;e.options.forcedOffline||n?this._pendingRepoAdd(e,n,t,r):r(this._createError(e));break;case 401:r(this._createError(e));break;default:r(this._createError(e,"Post Unsupported HTTP response "+o.status))}},f.prototype._dbputRepo=function(e){var t=this._repoFindSync(e);if(t&&0!==t.length)return this._pendingRepoAddSync(e);throw new Error({message:"Not Found",messageDetail:"Not Found",status:404,uri:e.uriFinal})},f.prototype._dbPut=function(e,t,r){var o=e.request;switch(o.status){case 200:return this._repoAdd(e,o.response).then(function(e){t(e)})["catch"](function(e){r(e)});case 0:case 404:var n=e.options.clientOnly;if(e.options.forcedOffline||n){var i=this;return this._repoFind(e).then(function(o){return o?i._pendingRepoAdd(e,n,t,r):(e.request.status=404,e.request.statusText="Not Found",r(i._createError(e)),void 0)})}r(this._createError(e));break;case 401:r(this._createError(e));break;default:r(this._createError(e,"Put Unsupported HTTP response "+o.status))}},f.prototype._restCall=function(e,t,r,o,n){var i=this,s=function(e,t){return new Promise(function(r,o){var n=i._requestGet(e),a=Object.assign({},t);"POST"===e.restMethod&&e.options.dbService&&e.options.dbService.primaryKeyNotOnPost&&delete a[e.primaryKeyName],delete a.$$hashKey;var p=JSON.stringify(a||{});n.open(e.restMethod,e.uriFinal,!0),i._requestHeaderSet(n),n.onreadystatechange=function(){4===n.readyStateRestOff&&(i._uriAddRequest(e,n),e.nextUri?(e.uriFinal=e.nextUri,s(e,t).then(r,o)["catch"](function(e){o(e)})):r())},"POST"===e.restMethod||"PUT"===e.restMethod||"DELETE"===e.restMethod?(n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n.send(p)):n.send()})},i=this;return new Promise(function(a,p){var c=i.uriFromClient(e,t,o,r,n);s(c,o).then(function(e){switch(c.restMethod){case"GET":return i._dbGet(c).then(function(e){a(e)})["catch"](function(e){p(e)});case"POST":i._dbPost(c,a,p);break;case"PUT":i._dbPut(c,a,p);break;case"DELETE":i._dbDelete(c,a,p);break;default:p()}})["catch"](function(e){p(e)})})},f.prototype.restCallSync=function(e,t,r,o,n){var i=this.uriFromClient(e,t,o,r,n);switch(i.restMethod){case"GET":return this._repogetRepo(i);case"POST":return this._pendingRepoAddSync(i);case"PUT":return this._dbputRepo(i);case"DELETE":return this._dbdeleteRepo(i);default:throw new Error("Rest method '"+t+"' not currently supported or is invalid.")}},f.prototype.deleteRepo=function(e,t){return this.restCallSync(e,"DELETE",t,void 0,!1)},f.prototype.getRepo=function(e,t){return this.restCallSync(e,"GET",t,void 0,!1)},f.prototype.postRepo=function(e,t,r){return this.restCallSync(e,"POST",r,t,!1)},f.prototype.putRepo=function(e,t,r){return this.restCallSync(e,"PUT",r,t,!1)},f.prototype["delete"]=function(e,t){return this._restCall(e,"DELETE",t,void 0,!1)},f.prototype.get=function(e,t){return this._restCall(e,"GET",t,void 0,!1)},f.prototype.post=function(e,t,r){return this._restCall(e,"POST",r,t,!1)},f.prototype.put=function(e,t,r){return this._restCall(e,"PUT",r,t,!1)},f.prototype.deleteOne=function(e,t,r){return this._restCall(e+"/"+t[this._options.dbService.primaryKeyName],"DELETE",Object.assign(r||{},{hasPK:!0}),void 0,!1)},f.prototype.getOne=function(e,t,r){return this._restCall(e+"/"+t[this._options.dbService.primaryKeyName],"GET",Object.assign(r||{},{hasPK:!0}),void 0,!1)},f.prototype.postOne=function(e,t,r){return this._restCall(e+"/"+t[this._options.dbService.primaryKeyName],"POST",Object.assign(r||{},{hasPK:!0}),t,!1)},f.prototype.putOne=function(e,t,r){return this._restCall(e+"/"+t[this._options.dbService.primaryKeyName],"PUT",Object.assign(r||{},{hasPK:!0}),t,!1)},f.prototype.clone=function(e){e||(e={});for(var t in this._options)e.hasOwnProperty(t)||(e[t]=this._options[t]);var r=new d(e);for(var t in this._autoParams)r.autoQueryParamSet(t,this._autoParams[t]);for(var t in this._autoHeaders)r.autoHeaderParamSet(t,this._autoHeaders[t]);return r},f.prototype.read=function(e,t,r){return r!==!1?JSON.parse(JSON.stringify(this.dbService.dbRepo.read(e,t))):this.dbService.dbRepo.read(e,t)},h.restoff=d,"undefined"!=typeof angular&&angular.module("restoff",[]).provider("restoff",[function(){var e=null;this.setConfig=function(t){e=t},this.$get=[function(){return new d(e)}]}])}).call(this);